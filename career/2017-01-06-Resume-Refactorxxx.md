<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 重构简历</a>
<ul>
<li><a href="#sec-1-1">1.1. 日志收集处理平台和终端智能化运维</a>
<ul>
<li><a href="#sec-1-1-1">1.1.1. 项目说明</a></li>
<li><a href="#sec-1-1-2">1.1.2. 工作角色</a></li>
<li><a href="#sec-1-1-3">1.1.3. 技术实现</a></li>
</ul>
</li>
<li><a href="#sec-1-2">1.2. 多IDC数据同步</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1. 项目说明</a></li>
<li><a href="#sec-1-2-2">1.2.2. 工作角色</a></li>
<li><a href="#sec-1-2-3">1.2.3. 技术实现</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. 寄件重构</a>
<ul>
<li><a href="#sec-1-3-1">1.3.1. 项目说明</a></li>
<li><a href="#sec-1-3-2">1.3.2. 工作角色</a></li>
</ul>
</li>
<li><a href="#sec-1-4">1.4. 分布式系统追踪服务</a>
<ul>
<li><a href="#sec-1-4-1">1.4.1. 项目说明</a></li>
<li><a href="#sec-1-4-2">1.4.2. 工作角色</a></li>
<li><a href="#sec-1-4-3">1.4.3. 技术实现</a></li>
</ul>
</li>
<li><a href="#sec-1-5">1.5. ESB消息总线服务</a>
<ul>
<li><a href="#sec-1-5-1">1.5.1. 项目说明</a></li>
<li><a href="#sec-1-5-2">1.5.2. 工作角色</a></li>
<li><a href="#sec-1-5-3">1.5.3. 技术实现</a></li>
</ul>
</li>
<li><a href="#sec-1-6">1.6. 行业选择，公司选择</a></li>
</ul>
</li>
</ul>
</div>
</div>

# 重构简历<a id="sec-1" name="sec-1"></a>

**你们就是他妈一群傻逼，傻逼，傻逼。**
基本信息：
姓名：宋鑫

职位就写架构师，麻痹的，一群死逼。
获得公司2018年度优秀员工。
在6月B轮融资，升值加薪。

负责新技术引进，员工技术培训，
英语听说读写流畅，
对TDD，CI，Agile有一定的理解
指导新人工作，进行代码的codeview。
对xxx进行架构设计，

认真起来，写好简历，出去看机会。
兴趣爱好：
看书，写作，敲代码，游泳，炒股，德扑等。

## 日志收集处理平台和终端智能化运维<a id="sec-1-1" name="sec-1-1"></a>

独立负责公司日志平台的架构设计，技术选型，核心代码编写，使用ELK技术栈。
收集12台dataserver上的近2万台终端的日志数据（终端心跳，路由器心跳，流水日志，业务日志，异常日志等）
，存储使用ElasticSearch，通过Kibana进行展示，分析并输出报表，对指定终端，箱格按天，周，月时间维度和
操作维度进行数据统计。可以通过日志追踪到包裹的轨迹，对包裹数据进行统计。
之后将部分数据存入Kafka中，通过消费，进行实时计算分析，过滤出发生故障的终端，并主动推送工单，
通知运维处理。如果终端故障恢复，会主动关闭掉相应工单，大大提高运维工作效率和E栈快递柜用户体验。

### 项目说明<a id="sec-1-1-1" name="sec-1-1-1"></a>

收集12台dataserver上的近2万台终端的日志数据，进行统计分析，并输出报表。
对运营，运维的工作进行数据支持，并能过滤故障终端，主动推送工单，提高运维工作效率和快递柜用户体验。

### 工作角色<a id="sec-1-1-2" name="sec-1-1-2"></a>

独立负责日志平台和终端智能化运维的架构设计，技术选型，核心代码编写等。

### 技术实现<a id="sec-1-1-3" name="sec-1-1-3"></a>

使用ELK技术栈，FileBeats进行日志收集，ElasticSearch存储，Kibana进行分析展示，并输出报表。
对指定终端，箱格，包裹按天周月的时间维度和各种操作维度进行数据统计，并可以追踪包裹的完整轨迹。
将部分数据存入Kafka后进行消费，实时计算分析，过滤得到故障的终端，主动推送，处理工单。

## 多IDC数据同步<a id="sec-1-2" name="sec-1-2"></a>

参与多IDC数据同步架构设计和方案选型，负责最终技术方案落地和核心代码实现。
使用Maxwell读取MySQL binlog转换为JSON字符串同步到Kafka集群，之后，使用
Kafka Connector的自定义实现Maxwell sink进行消费，转换为SQL，自定义过滤条件
同步到北上广地区使用的数据中心。

### 项目说明<a id="sec-1-2-1" name="sec-1-2-1"></a>

    随着E栈终端数，用户数持续上升，单张包裹表在冷热数据分离，按月归档分表后依然存在瓶颈。
而且为了服务的高可用，隔离性，需要将数据按地域进行切分以满足后续公司的持续性业务发展。

### 工作角色<a id="sec-1-2-2" name="sec-1-2-2"></a>

主导数据同步架构设计和方案选型，并负责最终技术方案落地和核心代码实现。

### 技术实现<a id="sec-1-2-3" name="sec-1-2-3"></a>

使用Maxwell读取MySQL binlog转换为JSON字符串同步到Kafka集群，之后，使用
Kafka Connector的自定义实现Maxwell sink进行消费，转换为SQL，自定义过滤条件
同步到北上广地区使用的数据中心
Github地址：

## 寄件重构<a id="sec-1-3" name="sec-1-3"></a>

   独立负责操刀E栈寄件系统的整体重构工作，重构完成后，大大减少了寄件的故障发生率，
简化了寄件的数据处理流程，增加了接口的稳定性和易用性。

### 项目说明<a id="sec-1-3-1" name="sec-1-3-1"></a>

E栈后台重构后，服务迁移了的终端，寄件功能无法使用，故需要对原系统进行重构接入新系统。

### 工作角色<a id="sec-1-3-2" name="sec-1-3-2"></a>

独立负责E栈寄件功能的整体重构工作，与原系统开发人员进行沟通与对接。

## 分布式系统追踪服务<a id="sec-1-4" name="sec-1-4"></a>

独立负责分布式系统追踪服务的部署，推进其他项目组的服务接入，并同时进行新技术的布道。
Zipkin brave是一个分布式系统的追踪服务，将整个E栈服务体系的各个子系统的调用链串起来，
可以监控查看整个请求服务链的延时情况，异常情况，并进行后续的性能分析，数据统计等，
使得E栈的整个服务体系更加稳定可靠，可视化。
本人作为brave-sparkjava的Commiter，并在公司做过zipkin的技术分享

### 项目说明<a id="sec-1-4-1" name="sec-1-4-1"></a>

    随着E栈子系统越来越多，一个完整服务的调用链越来越长，任何子环节都可能成为的整个服务的性能和可用性瓶颈，因此需要使用分布式追踪服务将整个调用链串联起来，
并监控各环节的延时情况，异常情况，并进行后续的性能分析优化，服务数据统计，告警监控等。

### 工作角色<a id="sec-1-4-2" name="sec-1-4-2"></a>

独立负责分布式系统追踪服务的部署，推进其他项目组的服务接入，并同时进行相关技术的分享，布道。
本人是Zipkin的Contributor之一，提交了brave-sparkjava的PR。

### 技术实现<a id="sec-1-4-3" name="sec-1-4-3"></a>

使用Twitter的Zipkin分布式追踪服务框架Brave，实现了Sparkjava的Brave实现，并提交了PR。

## ESB消息总线服务<a id="sec-1-5" name="sec-1-5"></a>

   独立负责ESB消息总线服务的架构设计和方案选型，负责Kafka集群的搭建，监控和维护。
对E栈后台产生的各种事件（箱格，包裹变化）进行消息转发，此系统每秒处理上千的消息，
支撑双11每分钟2500个包裹量，一天140W包裹量的处理。
本人在此期间深入学习了Kafka并在公司做了Kafka的技术分享。

### 项目说明<a id="sec-1-5-1" name="sec-1-5-1"></a>

随着E栈业务的拓展开发，E栈后台核心系统需要对接其他系统，如快递侠APP，会员系统等。
需要将箱格，包裹等的变化事件通知转发出去。

### 工作角色<a id="sec-1-5-2" name="sec-1-5-2"></a>

独立负责ESB消息总线服务的架构设计和方案选型，负责Kafka集群的搭建，监控和维护。

### 技术实现<a id="sec-1-5-3" name="sec-1-5-3"></a>

使用Sparkjava接受其他系统发送的HTTP请求，存入Kafka集群，并使用Kafka consumer主动推送到其他系统。
使用Kafka manager进行监控。

## 行业选择，公司选择<a id="sec-1-6" name="sec-1-6"></a>

金融行业，
已上市，不需要融资
不加班

最好是不要那些创业公司，什么JB A轮，B轮的。
最好是已上市，不需要融资，
